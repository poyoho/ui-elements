function t(t){return Array.from(t.querySelectorAll('[role="tablist"] [role="tab"]')).filter((e=>e instanceof HTMLElement&&e.closest(t.tagName)===t))}class e extends HTMLElement{constructor(){super(),this.addEventListener("keydown",(e=>{const a=e.target;if(!(a instanceof HTMLElement))return;if(a.closest(this.tagName)!==this)return;if("tab"!==a.getAttribute("role")&&!a.closest('[role="tablist"]'))return;const s=t(this),i=s.indexOf(s.find((t=>t.matches('[aria-selected="true"]'))));if("ArrowRight"===e.code){let t=i+1;t>=s.length&&(t=0),n(this,t)}else if("ArrowLeft"===e.code){let t=i-1;t<0&&(t=s.length-1),n(this,t)}else"Home"===e.code?(n(this,0),e.preventDefault()):"End"===e.code&&(n(this,s.length-1),e.preventDefault())})),this.addEventListener("click",(e=>{const a=t(this);if(!(e.target instanceof Element))return;if(e.target.closest(this.tagName)!==this)return;const s=e.target.closest('[role="tab"]');if(!(s instanceof HTMLElement&&s.closest('[role="tablist"]')))return;n(this,a.indexOf(s))}))}connectedCallback(){for(const e of t(this))e.hasAttribute("aria-selected")||e.setAttribute("aria-selected","false"),e.hasAttribute("tabindex")||("true"===e.getAttribute("aria-selected")?e.setAttribute("tabindex","0"):e.setAttribute("tabindex","-1"))}}function n(e,n){const a=t(e),s=Array.from(e.querySelectorAll('[role="tabpanel"]')).filter((t=>t.closest(e.tagName)===e)),i=a[n],r=s[n];if(!!e.dispatchEvent(new CustomEvent("tab-container-change",{bubbles:!0,cancelable:!0,detail:{relatedTarget:r}}))){for(const t of a)t.setAttribute("aria-selected","false"),t.setAttribute("tabindex","-1");for(const t of s)t.hidden=!0,t.hasAttribute("tabindex")||t.hasAttribute("data-tab-container-no-tabstop")||t.setAttribute("tabindex","0");i.setAttribute("aria-selected","true"),i.setAttribute("tabindex","0"),i.focus(),r.hidden=!1,e.dispatchEvent(new CustomEvent("tab-container-changed",{bubbles:!0,detail:{relatedTarget:r}}))}}window.customElements.get("tab-container")||(window.TabContainer=e,window.customElements.define("tab-container",e));
